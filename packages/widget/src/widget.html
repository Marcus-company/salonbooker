<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boek een afspraak - HairsalonX</title>
  <link rel="stylesheet" href="widget.css">
  <!-- Supabase JS Client -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
</head>
<body>
  <div class="sb-widget">
    <!-- Header -->
    <div class="sb-header">
      <h1 class="sb-title">Boek je afspraak</h1>
      <p class="sb-subtitle">Kies een datum en tijd die jou uitkomt</p>
    </div>

    <!-- Loading State -->
    <div class="sb-loading" id="loading">
      <div class="sb-spinner"></div>
      <p>Laden...</p>
    </div>

    <!-- Step 1: Service Selection -->
    <div class="sb-step sb-step-hidden" id="step-1">
      <h2 class="sb-step-title">1. Kies een behandeling</h2>
      <div class="sb-services" id="services-list">
        <!-- Services loaded from Supabase -->
      </div>
    </div>

    <!-- Step 2: Date & Time -->
    <div class="sb-step sb-step-hidden" id="step-2">
      <h2 class="sb-step-title">2. Kies een datum</h2>
      <div class="sb-calendar">
        <div class="sb-calendar-header">
          <button class="sb-calendar-nav" id="prev-month">‹</button>
          <span class="sb-calendar-month" id="current-month">Februari 2026</span>
          <button class="sb-calendar-nav" id="next-month">›</button>
        </div>
        <div class="sb-calendar-grid" id="calendar-grid">
          <!-- Generated by JS -->
        </div>
      </div>
      
      <h3 class="sb-time-title">Beschikbare tijden</h3>
      <div class="sb-time-slots" id="time-slots">
        <!-- Time slots loaded from Supabase -->
      </div>
    </div>

    <!-- Step 3: Customer Details -->
    <div class="sb-step sb-step-hidden" id="step-3">
      <h2 class="sb-step-title">3. Jouw gegevens</h2>
      <form class="sb-form" id="booking-form">
        <div class="sb-form-group">
          <label class="sb-label" for="name">Naam *</label>
          <input type="text" id="name" class="sb-input" placeholder="Jouw naam" required>
        </div>
        <div class="sb-form-group">
          <label class="sb-label" for="phone">Telefoon *</label>
          <input type="tel" id="phone" class="sb-input" placeholder="06-12345678" required>
        </div>
        <div class="sb-form-group">
          <label class="sb-label" for="email">Email</label>
          <input type="email" id="email" class="sb-input" placeholder="jouw@email.nl">
        </div>
        <div class="sb-form-group">
          <label class="sb-label" for="notes">Opmerkingen</label>
          <textarea id="notes" class="sb-textarea" placeholder="Bijv. allergieën, voorkeuren..."></textarea>
        </div>
      </form>
    </div>

    <!-- Summary -->
    <div class="sb-summary sb-step-hidden" id="summary">
      <h3 class="sb-summary-title">Samenvatting</h3>
      <div class="sb-summary-item">
        <span class="sb-summary-label">Behandeling:</span>
        <span class="sb-summary-value" id="summary-service">-</span>
      </div>
      <div class="sb-summary-item">
        <span class="sb-summary-label">Datum:</span>
        <span class="sb-summary-value" id="summary-date">-</span>
      </div>
      <div class="sb-summary-item">
        <span class="sb-summary-label">Tijd:</span>
        <span class="sb-summary-value" id="summary-time">-</span>
      </div>
      <div class="sb-summary-item sb-summary-total">
        <span class="sb-summary-label">Totaal:</span>
        <span class="sb-summary-value" id="summary-price">-</span>
      </div>
    </div>

    <!-- Actions -->
    <div class="sb-actions" id="actions">
      <button class="sb-btn sb-btn-secondary" id="btn-back" style="display: none;">Terug</button>
      <button class="sb-btn sb-btn-primary" id="btn-next">Volgende</button>
    </div>

    <!-- Success Message -->
    <div class="sb-success sb-step-hidden" id="success">
      <div class="sb-success-icon">✓</div>
      <h2 class="sb-success-title">Afspraak verzoek verstuurd!</h2>
      <p class="sb-success-text">Je ontvangt een bevestiging via email zodra je afspraak is goedgekeurd.</p>
    </div>
  </div>

  <script src="widget.js"></script>
</body>
</html>
